# music-commander Constitution

> Auto-generated by spec-kitty constitution command
> Created: 2026-01-29
> Version: 1.0.0

## Purpose

This constitution captures the technical standards and governance rules for
music-commander. All features and pull requests should align with these
principles.

## Technical Standards

### Languages and Frameworks

- Python 3.11+ as the sole implementation language
- Click for CLI command framework
- SQLAlchemy for database access (Mixxx SQLite)
- Rich for terminal output and formatting
- Jinja2 for user-facing template rendering
- Nix flake for packaging, dev shell, and reproducible builds

### Testing Requirements

- pytest is the required test framework
- No minimum coverage target enforced
- **Every CLI command must have unit tests**
- **Every utility module must have unit tests**
- Tests must pass before merging any change
- New features must include tests for their core functionality
- Test files live alongside source in a `tests/` directory

### Performance and Scale

- All operations must handle repositories with 100,000+ tracks without degradation
- No specific latency targets, but CLI operations should feel responsive
- Batch processing patterns preferred over per-item operations for large datasets

### Deployment and Constraints

- Nix flake for packaging and development shell
- Linux as the primary platform
- No external services required â€” runs locally against git-annex and SQLite
- Must work without Mixxx installed (git-annex metadata is the portable data source)

## Governance

### Amendment Process

Any contributor can propose amendments via pull request. Changes are discussed
and merged following standard PR review process.

### Compliance Validation

Code reviewers validate compliance during PR review. Constitution violations
should be flagged and addressed before merge.

### Exception Handling

Exceptions discussed case-by-case. Strong justification required.
Consider updating the constitution if exceptions become common.
